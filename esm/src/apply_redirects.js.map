{"version":3,"file":"apply_redirects.js","sourceRoot":"","sources":["../../../../../modules/@angular/router/src/apply_redirects.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport 'rxjs/add/operator/first';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/concatAll';\n\nimport {Injector} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Observer} from 'rxjs/Observer';\nimport {of } from 'rxjs/observable/of';\nimport {EmptyError} from 'rxjs/util/EmptyError';\n\nimport {Route, Routes} from './config';\nimport {LoadedRouterConfig, RouterConfigLoader} from './router_config_loader';\nimport {PRIMARY_OUTLET} from './shared';\nimport {UrlPathWithParams, UrlSegment, UrlTree} from './url_tree';\nimport {merge, waitForMap} from './utils/collection';\n\nclass NoMatch {\n  constructor(public segment: UrlSegment = null) {}\n}\nclass AbsoluteRedirect {\n  constructor(public paths: UrlPathWithParams[]) {}\n}\n\nfunction noMatch(segment: UrlSegment): Observable<UrlSegment> {\n  return new Observable<UrlSegment>((obs: Observer<UrlSegment>) => obs.error(new NoMatch(segment)));\n}\n\nfunction absoluteRedirect(newPaths: UrlPathWithParams[]): Observable<UrlSegment> {\n  return new Observable<UrlSegment>(\n      (obs: Observer<UrlSegment>) => obs.error(new AbsoluteRedirect(newPaths)));\n}\n\nexport function applyRedirects(\n    injector: Injector, configLoader: RouterConfigLoader, urlTree: UrlTree,\n    config: Routes): Observable<UrlTree> {\n  return expandSegment(injector, configLoader, config, urlTree.root, PRIMARY_OUTLET)\n      .map(rootSegment => createUrlTree(urlTree, rootSegment))\n      .catch(e => {\n        if (e instanceof AbsoluteRedirect) {\n          return of (createUrlTree(\n              urlTree, new UrlSegment([], {[PRIMARY_OUTLET]: new UrlSegment(e.paths, {})})));\n        } else if (e instanceof NoMatch) {\n          throw new Error(`Cannot match any routes: '${e.segment}'`);\n        } else {\n          throw e;\n        }\n      });\n}\n\nfunction createUrlTree(urlTree: UrlTree, rootCandidate: UrlSegment): UrlTree {\n  const root = rootCandidate.pathsWithParams.length > 0 ?\n      new UrlSegment([], {[PRIMARY_OUTLET]: rootCandidate}) :\n      rootCandidate;\n  return new UrlTree(root, urlTree.queryParams, urlTree.fragment);\n}\n\nfunction expandSegment(\n    injector: Injector, configLoader: RouterConfigLoader, routes: Route[], segment: UrlSegment,\n    outlet: string): Observable<UrlSegment> {\n  if (segment.pathsWithParams.length === 0 && segment.hasChildren()) {\n    return expandSegmentChildren(injector, configLoader, routes, segment)\n        .map(children => new UrlSegment([], children));\n  } else {\n    return expandPathsWithParams(\n        injector, configLoader, segment, routes, segment.pathsWithParams, outlet, true);\n  }\n}\n\nfunction expandSegmentChildren(\n    injector: Injector, configLoader: RouterConfigLoader, routes: Route[],\n    segment: UrlSegment): Observable<{[name: string]: UrlSegment}> {\n  return waitForMap(\n      segment.children,\n      (childOutlet, child) => expandSegment(injector, configLoader, routes, child, childOutlet));\n}\n\nfunction expandPathsWithParams(\n    injector: Injector, configLoader: RouterConfigLoader, segment: UrlSegment, routes: Route[],\n    paths: UrlPathWithParams[], outlet: string, allowRedirects: boolean): Observable<UrlSegment> {\n  const processRoutes =\n      of (...routes)\n          .map(r => {\n            return expandPathsWithParamsAgainstRoute(\n                       injector, configLoader, segment, routes, r, paths, outlet, allowRedirects)\n                .catch((e) => {\n                  if (e instanceof NoMatch)\n                    return of (null);\n                  else\n                    throw e;\n                });\n          })\n          .concatAll();\n\n  return processRoutes.first(s => !!s).catch((e: any, _: any): Observable<UrlSegment> => {\n    if (e instanceof EmptyError) {\n      throw new NoMatch(segment);\n    } else {\n      throw e;\n    }\n  });\n}\n\nfunction expandPathsWithParamsAgainstRoute(\n    injector: Injector, configLoader: RouterConfigLoader, segment: UrlSegment, routes: Route[],\n    route: Route, paths: UrlPathWithParams[], outlet: string,\n    allowRedirects: boolean): Observable<UrlSegment> {\n  if (getOutlet(route) !== outlet) return noMatch(segment);\n  if (route.redirectTo !== undefined && !allowRedirects) return noMatch(segment);\n\n  if (route.redirectTo !== undefined) {\n    return expandPathsWithParamsAgainstRouteUsingRedirect(\n        injector, configLoader, segment, routes, route, paths, outlet);\n  } else {\n    return matchPathsWithParamsAgainstRoute(injector, configLoader, segment, route, paths);\n  }\n}\n\nfunction expandPathsWithParamsAgainstRouteUsingRedirect(\n    injector: Injector, configLoader: RouterConfigLoader, segment: UrlSegment, routes: Route[],\n    route: Route, paths: UrlPathWithParams[], outlet: string): Observable<UrlSegment> {\n  if (route.path === '**') {\n    return expandWildCardWithParamsAgainstRouteUsingRedirect(route);\n  } else {\n    return expandRegularPathWithParamsAgainstRouteUsingRedirect(\n        injector, configLoader, segment, routes, route, paths, outlet);\n  }\n}\n\nfunction expandWildCardWithParamsAgainstRouteUsingRedirect(route: Route): Observable<UrlSegment> {\n  const newPaths = applyRedirectCommands([], route.redirectTo, {});\n  if (route.redirectTo.startsWith('/')) {\n    return absoluteRedirect(newPaths);\n  } else {\n    return of (new UrlSegment(newPaths, {}));\n  }\n}\n\nfunction expandRegularPathWithParamsAgainstRouteUsingRedirect(\n    injector: Injector, configLoader: RouterConfigLoader, segment: UrlSegment, routes: Route[],\n    route: Route, paths: UrlPathWithParams[], outlet: string): Observable<UrlSegment> {\n  const {matched, consumedPaths, lastChild, positionalParamSegments} = match(segment, route, paths);\n  if (!matched) return noMatch(segment);\n\n  const newPaths =\n      applyRedirectCommands(consumedPaths, route.redirectTo, <any>positionalParamSegments);\n  if (route.redirectTo.startsWith('/')) {\n    return absoluteRedirect(newPaths);\n  } else {\n    return expandPathsWithParams(\n        injector, configLoader, segment, routes, newPaths.concat(paths.slice(lastChild)), outlet,\n        false);\n  }\n}\n\nfunction matchPathsWithParamsAgainstRoute(\n    injector: Injector, configLoader: RouterConfigLoader, rawSegment: UrlSegment, route: Route,\n    paths: UrlPathWithParams[]): Observable<UrlSegment> {\n  if (route.path === '**') {\n    return of (new UrlSegment(paths, {}));\n\n  } else {\n    const {matched, consumedPaths, lastChild} = match(rawSegment, route, paths);\n    if (!matched) return noMatch(rawSegment);\n\n    const rawSlicedPath = paths.slice(lastChild);\n\n    return getChildConfig(injector, configLoader, route).mergeMap(routerConfig => {\n      const childInjector = routerConfig.injector;\n      const childConfig = routerConfig.routes;\n      const {segment, slicedPath} = split(rawSegment, consumedPaths, rawSlicedPath, childConfig);\n\n      if (slicedPath.length === 0 && segment.hasChildren()) {\n        return expandSegmentChildren(childInjector, configLoader, childConfig, segment)\n            .map(children => new UrlSegment(consumedPaths, children));\n\n      } else if (childConfig.length === 0 && slicedPath.length === 0) {\n        return of (new UrlSegment(consumedPaths, {}));\n\n      } else {\n        return expandPathsWithParams(\n                   childInjector, configLoader, segment, childConfig, slicedPath, PRIMARY_OUTLET,\n                   true)\n            .map(cs => new UrlSegment(consumedPaths.concat(cs.pathsWithParams), cs.children));\n      }\n    });\n  }\n}\n\nfunction getChildConfig(injector: Injector, configLoader: RouterConfigLoader, route: Route):\n    Observable<LoadedRouterConfig> {\n  if (route.children) {\n    return of (new LoadedRouterConfig(route.children, injector, null));\n  } else if (route.loadChildren) {\n    return configLoader.load(injector, route.loadChildren).map(r => {\n      (<any>route)._loadedConfig = r;\n      return r;\n    });\n  } else {\n    return of (new LoadedRouterConfig([], injector, null));\n  }\n}\n\nfunction match(segment: UrlSegment, route: Route, paths: UrlPathWithParams[]): {\n  matched: boolean,\n  consumedPaths: UrlPathWithParams[],\n  lastChild: number,\n  positionalParamSegments: {[k: string]: UrlPathWithParams}\n} {\n  const noMatch =\n      {matched: false, consumedPaths: <any[]>[], lastChild: 0, positionalParamSegments: {}};\n  if (route.path === '') {\n    if ((route.terminal || route.pathMatch === 'full') &&\n        (segment.hasChildren() || paths.length > 0)) {\n      return {matched: false, consumedPaths: [], lastChild: 0, positionalParamSegments: {}};\n    } else {\n      return {matched: true, consumedPaths: [], lastChild: 0, positionalParamSegments: {}};\n    }\n  }\n\n  const path = route.path;\n  const parts = path.split('/');\n  const positionalParamSegments: {[k: string]: UrlPathWithParams} = {};\n  const consumedPaths: UrlPathWithParams[] = [];\n\n  let currentIndex = 0;\n\n  for (let i = 0; i < parts.length; ++i) {\n    if (currentIndex >= paths.length) return noMatch;\n    const current = paths[currentIndex];\n\n    const p = parts[i];\n    const isPosParam = p.startsWith(':');\n\n    if (!isPosParam && p !== current.path) return noMatch;\n    if (isPosParam) {\n      positionalParamSegments[p.substring(1)] = current;\n    }\n    consumedPaths.push(current);\n    currentIndex++;\n  }\n\n  if (route.terminal && (segment.hasChildren() || currentIndex < paths.length)) {\n    return {matched: false, consumedPaths: [], lastChild: 0, positionalParamSegments: {}};\n  }\n\n  return {matched: true, consumedPaths, lastChild: currentIndex, positionalParamSegments};\n}\n\nfunction applyRedirectCommands(\n    paths: UrlPathWithParams[], redirectTo: string,\n    posParams: {[k: string]: UrlPathWithParams}): UrlPathWithParams[] {\n  const r = redirectTo.startsWith('/') ? redirectTo.substring(1) : redirectTo;\n  if (r === '') {\n    return [];\n  } else {\n    return createPaths(redirectTo, r.split('/'), paths, posParams);\n  }\n}\n\nfunction createPaths(\n    redirectTo: string, parts: string[], segments: UrlPathWithParams[],\n    posParams: {[k: string]: UrlPathWithParams}): UrlPathWithParams[] {\n  return parts.map(\n      p => p.startsWith(':') ? findPosParam(p, posParams, redirectTo) :\n                               findOrCreatePath(p, segments));\n}\n\nfunction findPosParam(\n    part: string, posParams: {[k: string]: UrlPathWithParams},\n    redirectTo: string): UrlPathWithParams {\n  const paramName = part.substring(1);\n  const pos = posParams[paramName];\n  if (!pos) throw new Error(`Cannot redirect to '${redirectTo}'. Cannot find '${part}'.`);\n  return pos;\n}\n\nfunction findOrCreatePath(part: string, paths: UrlPathWithParams[]): UrlPathWithParams {\n  let idx = 0;\n  for (const s of paths) {\n    if (s.path === part) {\n      paths.splice(idx);\n      return s;\n    }\n    idx++;\n  }\n  return new UrlPathWithParams(part, {});\n}\n\n\nfunction split(\n    segment: UrlSegment, consumedPaths: UrlPathWithParams[], slicedPath: UrlPathWithParams[],\n    config: Route[]) {\n  if (slicedPath.length > 0 &&\n      containsEmptyPathRedirectsWithNamedOutlets(segment, slicedPath, config)) {\n    const s = new UrlSegment(\n        consumedPaths,\n        createChildrenForEmptyPaths(config, new UrlSegment(slicedPath, segment.children)));\n    return {segment: mergeTrivialChildren(s), slicedPath: []};\n\n  } else if (slicedPath.length === 0 && containsEmptyPathRedirects(segment, slicedPath, config)) {\n    const s = new UrlSegment(\n        segment.pathsWithParams,\n        addEmptyPathsToChildrenIfNeeded(segment, slicedPath, config, segment.children));\n    return {segment: mergeTrivialChildren(s), slicedPath};\n\n  } else {\n    return {segment, slicedPath};\n  }\n}\n\nfunction mergeTrivialChildren(s: UrlSegment): UrlSegment {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegment(s.pathsWithParams.concat(c.pathsWithParams), c.children);\n  } else {\n    return s;\n  }\n}\n\nfunction addEmptyPathsToChildrenIfNeeded(\n    segment: UrlSegment, slicedPath: UrlPathWithParams[], routes: Route[],\n    children: {[name: string]: UrlSegment}): {[name: string]: UrlSegment} {\n  const res: {[name: string]: UrlSegment} = {};\n  for (let r of routes) {\n    if (emptyPathRedirect(segment, slicedPath, r) && !children[getOutlet(r)]) {\n      res[getOutlet(r)] = new UrlSegment([], {});\n    }\n  }\n  return merge(children, res);\n}\n\nfunction createChildrenForEmptyPaths(\n    routes: Route[], primarySegment: UrlSegment): {[name: string]: UrlSegment} {\n  const res: {[name: string]: UrlSegment} = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (let r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      res[getOutlet(r)] = new UrlSegment([], {});\n    }\n  }\n  return res;\n}\n\nfunction containsEmptyPathRedirectsWithNamedOutlets(\n    segment: UrlSegment, slicedPath: UrlPathWithParams[], routes: Route[]): boolean {\n  return routes\n             .filter(\n                 r => emptyPathRedirect(segment, slicedPath, r) && getOutlet(r) !== PRIMARY_OUTLET)\n             .length > 0;\n}\n\nfunction containsEmptyPathRedirects(\n    segment: UrlSegment, slicedPath: UrlPathWithParams[], routes: Route[]): boolean {\n  return routes.filter(r => emptyPathRedirect(segment, slicedPath, r)).length > 0;\n}\n\nfunction emptyPathRedirect(\n    segment: UrlSegment, slicedPath: UrlPathWithParams[], r: Route): boolean {\n  if ((segment.hasChildren() || slicedPath.length > 0) && (r.terminal || r.pathMatch === 'full'))\n    return false;\n  return r.path === '' && r.redirectTo !== undefined;\n}\n\nfunction getOutlet(route: Route): string {\n  return route.outlet ? route.outlet : PRIMARY_OUTLET;\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}