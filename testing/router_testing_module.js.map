{"version":3,"file":"router_testing_module.js","sourceRoot":"","sources":["../../../../modules/@angular/router/testing/router_testing_module.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;;AAEH,uBAAyC,iBAAiB,CAAC,CAAA;AAC3D,wBAAgD,yBAAyB,CAAC,CAAA;AAC1E,qBAAqH,eAAe,CAAC,CAAA;AAErI,sBAA6D,UAAU,CAAC,CAAA;AACxE,qCAAqB,6BAA6B,CAAC,CAAA;AACnD,8BAAkD,sBAAsB,CAAC,CAAA;AACzE;IAGE,mCAAoB,QAAkB;QAAlB,aAAQ,GAAR,QAAQ,CAAU;QAF/B,mBAAc,GAA0B,EAAE,CAAC;IAET,CAAC;IAE1C,wCAAI,GAAJ,UAAK,IAAY;QACf,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;QACxE,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAM,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,wBAAsB,IAAM,CAAC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IACH,kBAAkB;IACX,oCAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,iBAAU,EAAE;KACnB,CAAC;IACF,kBAAkB;IACX,wCAAc,GAA2D;QAChF,EAAC,IAAI,EAAE,eAAQ,GAAG;KACjB,CAAC;IACF,gCAAC;AAAD,CAAC,AApBD,IAoBC;AApBY,iCAAyB,4BAoBrC,CAAA;AACD;IAAA;IA0BA,CAAC;IAzBD,kBAAkB;IACX,8BAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,gBAAS,EAAE,IAAI,EAAE,CAAC;oBACxB,UAAU,EAAE,iCAAiB;oBAC7B,SAAS,EAAE;wBACT,gCAAgB;wBAChB,EAAC,OAAO,EAAE,iBAAQ,EAAE,QAAQ,EAAE,qBAAW,EAAC;wBAC1C,EAAC,OAAO,EAAE,yBAAgB,EAAE,QAAQ,EAAE,8BAAoB,EAAC;wBAC3D,EAAC,OAAO,EAAE,6BAAsB,EAAE,QAAQ,EAAE,yBAAyB,EAAC;wBACtE;4BACE,OAAO,EAAE,cAAM;4BACf,UAAU,EAAE,UAAC,QAA2B,EAAE,aAA4B,EACzD,SAA0B,EAAE,QAAkB,EAAE,MAA8B,EAC9E,QAAkB,EAAE,MAAc;gCAC7C,MAAM,CAAC,IAAI,cAAM,CACb,IAAI,EAAE,QAAQ,EAAE,aAAa,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;4BACpF,CAAC;4BACD,IAAI,EAAE;gCACJ,wBAAiB,EAAE,qBAAa,EAAE,uBAAe,EAAE,iBAAQ,EAAE,6BAAsB;gCACnF,eAAQ,EAAE,6BAAM;6BACjB;yBACF;qBACF;iBACF,EAAG,EAAE;KACL,CAAC;IACF,0BAAC;AAAD,CAAC,AA1BD,IA0BC;AA1BY,2BAAmB,sBA0B/B,CAAA","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Location, LocationStrategy} from '@angular/common';\nimport {MockLocationStrategy, SpyLocation} from '@angular/common/testing';\nimport {AppModule, AppModuleFactory, AppModuleFactoryLoader, Compiler, ComponentResolver, Injectable, Injector} from '@angular/core';\n\nimport {Router, RouterOutletMap, Routes, UrlSerializer} from '../index';\nimport {ROUTES} from '../src/router_config_loader';\nimport {ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '../src/router_module';\nexport class SpyAppModuleFactoryLoader implements AppModuleFactoryLoader {\n  public stubbedModules: {[path: string]: any} = {};\n\n  constructor(private compiler: Compiler) {}\n\n  load(path: string): Promise<AppModuleFactory<any>> {\n    if (this.stubbedModules[path]) {\n      return this.compiler.compileAppModuleAsync(this.stubbedModules[path]);\n    } else {\n      return <any>Promise.reject(new Error(`Cannot find module ${path}`));\n    }\n  }\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: {type: Function, decorators?: DecoratorInvocation[]}[] = [\n{type: Compiler, },\n];\n}\nexport class RouterTestingModule {\n/** @nocollapse */\nstatic decorators: DecoratorInvocation[] = [\n{ type: AppModule, args: [{\n  directives: ROUTER_DIRECTIVES,\n  providers: [\n    ROUTER_PROVIDERS,\n    {provide: Location, useClass: SpyLocation},\n    {provide: LocationStrategy, useClass: MockLocationStrategy},\n    {provide: AppModuleFactoryLoader, useClass: SpyAppModuleFactoryLoader},\n    {\n      provide: Router,\n      useFactory: (resolver: ComponentResolver, urlSerializer: UrlSerializer,\n                   outletMap: RouterOutletMap, location: Location, loader: AppModuleFactoryLoader,\n                   injector: Injector, routes: Routes) => {\n        return new Router(\n            null, resolver, urlSerializer, outletMap, location, injector, loader, routes);\n      },\n      deps: [\n        ComponentResolver, UrlSerializer, RouterOutletMap, Location, AppModuleFactoryLoader,\n        Injector, ROUTES\n      ]\n    },\n  ]\n}, ] },\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}